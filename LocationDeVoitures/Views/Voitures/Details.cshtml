@model LocationDeVoitures.Models.MasterModelVoiture
@{
    ViewBag.Title = "Details";
}
@using LocationDeVoitures.Models
<div class="vouture-list-top navbar-expand">
    <H2 class="float-left" href="#">Voiture</H2>
    @if (User.IsInRole(MesConstants.RoleLocataire))
    {
        @Html.ActionLink("Location", "Create", "Locations", new { id = Model.VoitureList[0].VoitureID }, new { @class = "btn btn-outline-success my-2 my-sm-0 float-right" })
    }
    else if (User.IsInRole(MesConstants.RoleAgence) && ViewBag.BOOL)
    {
        @Html.ActionLink("Edit", "Edit", "Voitures", new { id = Model.VoitureList[0].VoitureID }, new { @class = "btn btn-outline-success my-2 my-sm-0 float-right" })
        @Html.ActionLink("Add Offers", "Create", "Offres", new { id = Model.VoitureList[0].VoitureID }, new { @class = "btn btn-outline-success my-2 my-sm-0 float-right" })
    }
</div>
<div class="col-md-9 align-content-md-center">
    <div class="align-content-center">
        <div>
            <div class="vouture-image">
                @{
                    var base64 = Convert.ToBase64String(Model.VoitureList[0].Image);
                    var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                }
                <img src="@imgSrc" />
            </div>
        </div>



        <div>

            <div class="product-description">
                <h3>@Model.VoitureList[0].Marque</h3>
                <p>@Model.VoitureList[0].Description</p>
            </div>

            <div class="row gy-5">
                <div class="col-md-6">
                    <div class="p-3 border bg-light">@Model.VoitureList[0].Module</div>
                </div>
                <div class="col-md-6">
                    <div class="p-3 border bg-light">@Model.VoitureList[0].Marque</div>
                </div>
                <div class="col-md-6">
                    <div class="p-3 border bg-light">@Model.VoitureList[0].Prix</div>
                </div>
                <div class="col-md-6">
                    <div class=" p-3 border bg-light">@Model.VoitureList[0].Km</div>
                </div>
            </div>

        </div>
        <div>
            <h3>Offres</h3>

            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Pourcentage</th>
                        <th scope="col">Start Date</th>
                        <th scope="col">Duree</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.OffreeList)
                    {
                        <tr>
                            <td>@Html.DisplayFor(modelItem => item.Pourcentage)</td>
                            <td>@Html.DisplayFor(modelItem => item.Data)</td>
                            <td>@Html.DisplayFor(modelItem => item.Duree)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="row  gy-5">
            @foreach (var item in Model.VoitureListImages)
            {
                <div class="vouture-image-detail p-3 col-md-6">
                    @{
                        var bas = Convert.ToBase64String(item.Image);
                        var img = String.Format("data:image/gif;base64,{0}", bas);
                        <img src="@img" />
                    }
                </div>
            }
            
            </div>
    </div>

</div>